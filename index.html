<!DOCTYPE html>
<html>
    <head>
        <title>Milano's Pizzaria</title>
        <meta name="description" content="This is a very Richard Website">
        <link rel="icon" href="./images/logo.ico">

        <!-- PEDANTIC, BUT "NECESSARY" -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <!-- GENERAL CSS -->
        <link rel="stylesheet" href="./CSS/index.css">
        <link rel="stylesheet" href="./CSS/tailwind.css">
        <link rel="stylesheet" href="./CSS/debug.css">

        <!-- ICONS -->
        <script src="https://kit.fontawesome.com/c5468a7a8b.js" crossorigin="anonymous" async></script>

        <!-- MAP -->
        <script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js' async></script>
        <link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />
    </head>
    <body>
        <img src="./images/background.svg" alt="Background Styling" id="imagery" class="fixed w-full right-0"
            style="z-index:-1;">
        <!-- =============NAVBAR============= -->
        <nav class="grid grid-cols-5 w-full top-0 sticky py-5 px-16 z-10">
            <div id="backgroundImage" class="w-full h-full">
                <img src="./images/headbackgorund.png" class="w-full" alt="Header Background Image">
            </div>
            <!-- Logo -->
            <div class="flex flex-row items-center col-span-3">
                <a href="#home">
                    <img class="w-auto h-12 mr-2" src="https://order.milanopizzeria.ca/images/milano/logo.png" alt="Logo">
                </a>
            </div>
            <!-- LINKS -->
            <div id="linkRow" class="flex flex-row justify-between items-center w-full col-span-2">
                <a href="#">Home</a>
                <a href="#aboutUs">About Us</a>
                <a href="#order">Menu</a>
                <a href="#contactus">Contact Us</a>
                <a href="#reviews">Reviews</a>
            </div>
        </nav>

        <div id="app" class="mx-8">
            <!-- =============CONTENT============= -->
            <!-- HOME -->
            <div id="home" class="page mt-6">
                <img src="./images/pizza_main.png" alt="An Image of a Pizza" class="absolute" id="pizzaMain">
                <div id="mainText" class="absolute">
                    <!-- TEXT -->
                    <h1 class="text-6xl font-extrabold mb-5 leading-tight">Ottawa's Best<br>Tasting Pizza</h1>
                    <p class="ml-2 text-2xl">
                        Ottawa's Local MILANO'S PIZZA; Fresh Ingredients, Fresh Pizza!<br> - Serving Barrhaven
                    </p>
                    <!-- BUTTON -->
                    <button id="orderButton"
                        class="noButtonOutLine relative p-3 px-5 hover:pr-8 bg-red-500 hover:bg-red-700 text-white rounded-full text-lg font-bold m-4 flex flex-row items-center"
                        onclick="document.getElementById('order').scrollIntoView();">
                        Our Menu
                        <svg class="w-6 h-6 ml-2 relative" style="top:0.1rem;" fill="none" stroke="currentColor"
                            viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                                d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                        </svg>
                    </button>
                </div>
                <img src="./images/tomatoes.png" id="tomatoes" alt="Tomatoes and Spices">
            </div>

            <!-- ABOUT US -->
            <div id="aboutUs" class="page">
                <div class="title">
                    About us
                </div>
                <!-- CONTENT GRID -->
                <div id='contentGrid' class="grid grid-cols-6 gap-y-10 gap-x-5">
                    <!-- WHO WE ARE + VIDEO -->
                    <div class="col-span-3 p-6 pl-0 text-right">
                        <h1>Who We Are</h1>
                        <p>
                            Founded by a family bred on pizza, Milanos Pizza has been serving families in the capital region for over 40 years.
                            However, this didn’t just happen overnight. It all started with the Kassis family‘s traditional recipes that, over the
                            years, were passed down to ten eager siblings. Piece by piece, with the help of all the brothers and sisters, the
                            recipes began to spread. As we began to grow, we partnered with the Tabaja Brothers, and in the blink of an eye, the
                            first Milanos Pizza opened on Merivale Road. Since then we have reached out to all corners of the city, and are proud to
                            represent Ottawa and its great people who have kept us busy all these years.
                        </p>
                    </div>
                    <div class="col-span-3 relative h-0 w-full" style="padding-bottom: 56.25%;">
                        <iframe class="w-full h-full absolute left-0 top-0" src="https://www.youtube.com/embed/YLN1Argi7ik"
                            frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen></iframe>
                    </div>

                    <!-- OUR GOALS -->
                    <div class="col-span-6 ">
                        <h1 class="text-center">Our Goals</h1>
                        <p>
                            Here at Milanos we pride ourselves in delivering delicious food, and since the beginning have been devoted to using
                            quality ingredients. We also strive to make food for everybody, regardless of their preference, as we have a full vegan
                            menu and many different healthy options. At all of our locations, we aim to give the best customer experience possible,
                            and ensure that everyone who comes into our restaurant leaves with a smile.
                        </p>
                    </div>

                    <!-- IMAGE GALLERY -->
                    <div class="col-span-2 overflow-hidden imgGallery" v-for="image in aboutUsImages">
                        <img class="h-full w-auto" :src="`${image.imageURL}`" :alt="`${image.alt}`">
                    </div>


                    <div class="col-span-3 overflow-hidden" style="height:40vh">
                        <img src="./images/dice.png" alt="Pizza Making Process, Illustrated">
                    </div>
                    <div class="col-span-3">
                        <h1>How we do it</h1>
                        <p>
                            For us to achieve our goals, it takes a team effort. All of our staff members are well trained and know the ins and outs
                            of our philosophy, and are managed equally as well by managers who have been put through the ropes and are experienced.
                            Additionally, we use only locally sourced fresh ingredients to ensure our foods are delicious, and to also show support
                            for other local businesses like ourselves.
                        </p>
                    </div>

                    <!-- COMMUNITY INVOLVEMENT -->
                    <div class="col-span-3 text-right">
                        <h1>Community Invovlement</h1>
                        <p>
                            Like any good pizza restaurant, we have become accustomed to sponsoring many different teams and have a gallery of team
                            photos hanging on our walls. We also have our own Chefs for Charities campaign, where we invite 12 celebrity chefs to
                            create a pizza each month, and donate all of the proceeds to a charity of their choice. We also work closely with the
                            Ottawa Humane Society, OPIN Concept, and the Bruyere Foundation, and have contributed to over $35,000 to local
                            charities!
                        </p>
                    </div>
                    <div class="col-span-3">
                        <img src="" alt="Community Involvement Image">
                    </div>

                    <!-- MILANOS AT SCHOOL -->
                    <div class="col-span-3">
                        <img src="" alt="Schools Image">
                    </div>
                    <div class="col-span-3">
                        <h1>Milano at School</h1>
                        <p>
                            Why ask our schools’ children to settle for less? With over 30 locations our success speaks for itself, and there's a
                            reason so many schools, for so many years, have chosen Milanos for their students. For further inquiries, send us an
                            email at *BLANK*
                        </p>
                    </div>
                </div>

                <!-- FIND OUR LOCATIONS -->
                <div class="w-full text-center">
                    <h1 class="text-3xl mb-3">Find our locations</h1>
                    <p>With over 30 locations spread across the city, find which one of our restaurants is closest to you!</p>
                    <div id="map" class="w-full left-0" style="height:65vh;position:absolute !important"></div>
                    <div style="height:65vh"></div>
                </div>
            </div>

            <!-- ORDER -->
            <div id="order" class="page">
                <div class="text-center mb-10">
                    <div class="title">
                        Order our Popular Dishes
                    </div>
                    <div>
                        They are really good please do try them
                    </div>
                </div>
                <div class="grid grid-cols-3 grid-row-3 gap-10">
                    <food-card @open-order-modal="showOrderModal" v-for="foodItem in foodItems" :food-card-data="foodItem"></food-card>
                </div>
            </div>

            <!-- CONTACT US -->
            <div id="contactus" class="page pt-12">
                <div class="title">
                    Contact us
                </div>
                <div class="grid grid-cols-3 gap-2" style='height:80vh'>
                    <div class="h-full socialScroll overflow-scroll overflow-x-hidden rounded-lg">
                        <a class="twitter-timeline" data-lang="en" data-theme="dark"
                            href="https://twitter.com/milanopizza1?ref_src=twsrc%5Etfw">Tweets by milanopizza1</a>
                    </div>
                    <div class="h-full bg-gray-600"></div>
                    <div class="h-full bg-gray-800" id='mapContact'></div>
                </div>
            </div>

            <!-- REVIEWS -->
            <div id="reviews" class="page relative pt-12">
                <div class="title">
                    Reviews
                </div>
                <div class="relative">
                    <review-card v-for="review in reviews" :review-card-data="review"></review-card>
                </div>
            </div>

            <!-- FOOTER -->
            <footer class=" absolute left-0 py-8 px-32 w-full text-black grid grid-cols-4 gap-4">
                <footer-col>
                    <img src="https://order.milanopizzeria.ca/images/milano/logo.png" class="mb-6" alt="Footer Logo">
                    <div id="socialList" class="flex flex-row justify-around">
                        <social-icon v-for="socialItem in socialItems" :class="socialItem.idClass" :social-icon-data="socialItem" />
                    </div>
                </footer-col>
                <footer-col>
                    <h1 class="text-lg font-semibold">Pages</h1>
                    <ul>
                        <li>Home</li>
                        <li>Menu</li>
                        <li>Contact Us</li>
                        <li>Create Account</li>
                        <li>Sign in</li>
                    </ul>
                </footer-col>
                <footer-col>
                    Legal
                    <ul>
                        <li>Privacy Policy</li>
                        <li>Terms and Conditions</li>
                        <li>FAQ</li>
                    </ul>
                </footer-col>
                <footer-col>
                    Place your order Today
                    <div>
                        Phone
                    </div>
                    <div>
                        Address
                    </div>
                    <div>
                        Order Now Here...
                    </div>
                </footer-col>
            </footer>

            <order-modal v-show="orderModalVisible" @close="closeOrderModal"></order-modal>
            <!-- <order-modal @close="closeOrderModal"></order-modal> -->
        </div>

        <!-- #region Templates -->
        <!-- FOOD CARD TEMPLATE -->
        <script type="text/x-template" id="food-card-template">
            <div class="foodCard col-span-1 relative">
                <div class="imgBX relative w-full flex justify-center items-center">
                    <img :src="foodCardData.imageURL" :alt="foodCardData.title + ' image'">
                </div>
                <div class = "contentBX relative pt-0 p-6 flex flex-col justify-center items-center">
                    <h1 class="font-bold text-5xl">{{ foodCardData.title }}</h1>
                    <h2 class="font-semibold text-xl">{{ foodCardData.price }}</h2>
                    <p class="font-medium text-lg text-center">{{ foodCardData.description }}</p>
                    <button id="orderButton" @click="openOrderModalEmit" class="bg-red-700 border-white border-solid border-2 rounded-full px-22 p-14 mt-4 flex flex-row">
                        More Info
                        <svg class="ml-1 w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    </button>
                </div>
            </div>
        </script>

        <!-- FOOTER COL -->
        <script type="text/x-template" id="footer-col-template">
            <div id="footer-col" class="col-span-1">
                <slot></slot>
            </div>
        </script>
        <!-- SOCIAL ICONS -->
        <script type="text/x-template" id="social-icon-template">
            <i class="fab" :onclick="`openInNewTab(socialIconData.url)`"></i>
        </script>

        <!-- Review Card -->
        <script type="text/x-template" id="review-card-template">
            <div class="reviewBox bg-white absolute flex flex-col items-center w-4/12 p-4 py-6 rounded-lg shadow-xl">
                <img class="avatar mb-4" :src="reviewCardData.imageURL">
                <p class="text-center mb-2">{{ reviewCardData.review }}</p>
                <div class="starRack">
                    <i v-for="starNum in reviewCardData.stars" class="fas fa-star"></i>
                    <i v-for="starNum in (5-reviewCardData.stars)" class="far fa-star"></i>
                </div>
            </div>
        </script>

        <!-- MODAL -->
        <script type="text/x-template" id="order-modal-template">
            <transition name="modal-fade">
                <!-- BACKGROUND -->
                <div id='orderModal' class="fixed h-screen top-0 left-0 z-10">
                    <!-- CENTER WHITE PART -->
                    <div class='bg-white w-11/12 h-lots center rounded-xl p-4 overflow-hidden'>
                        <!-- IMAGERY -->
                        <img class="absolute" id="herb1" src="./images/herbs.png" alt="Decorative Herbs">
                        <img class="absolute" id="herb2" src="./images/herbs2.png" alt="More Decorative Herbs">
                        <img class="absolute" id="tomato1" src="./images/tomato.png" alt="A tomato">
                        <div id="pizzaRow">
                            <img class="absolute orderPosition1" src="./images/pizzaOrder1.png" alt="Pizza 1">
                            <img class="absolute orderPosition2" src="./images/pizzaOrder2.png" alt="Pizza 2">
                            <img class="absolute orderPosition3" src="./images/pizzaOrder3.png" alt="Pizza 3">
                        </div>

                        <!-- CLOSE BUTTON -->
                        <div class='relative h-10 mb-8'>
                            <button class="absolute right-0" type="button" @click="close">
                                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M6 18L18 6M6 6l12 12"></path></svg>
                            </button>
                        </div>

                        
                        <h1 class='text-center font-bold text-5xl mb-4'>Pizzas</h1>
                        

                        <!-- TEXT, BUTTONS AND BUY -->
                        <div class="grid grid-cols-5 mx-8">
                            <!-- Left Text -->
                            <div class="col-span-2 debugBorder">
                                <h1 class="text-3xl mb-2 font-semibold">Pepperoni Pizza</h1>
                                <p>
                                    Pizza is a savory dish of Italian origin consisting of a usually round, flattened base of leavened wheat-based dough topped with tomatoes, cheese, and often various other ingredients (such as anchovies, mushrooms, onions, olives, pineapple, meat, etc.) which is then baked at a high temperature, traditionally in a wood-fired oven.
                                </p>
                            </div>
                            <!-- CENTER BUTTONS -->
                            <div class="col-span-1 debugBorder">
                                <div id="sizeButtonRow" class="flex flex-row justify-around mb-8">
                                    <button class="noButtonOutLine" onclick="updateSize(1)">S</button>
                                    <button class="noButtonOutLine" onclick="updateSize(2)">M</button>
                                    <button class="noButtonOutLine" onclick="updateSize(3)">L</button>
                                </div>
                                <div id="selectionButtonRow" class="flex flex-col items-center relative py-8">
                                    <div class="h-full w-1/3 absolute top-0 rounded-full" id="selectionButtonBackground"></div>
                                    <button class="noButtonOutLine mb-5" onclick='updateSelection("down")'>
                                        <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                                    </button>
                                    <button class="noButtonOutLine" onclick='updateSelection("up")'>
                                        <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
                                    </button>
                                </div>
                            </div>
                            <!-- Right Order -->
                            <div class="col-span-2 debugBorder">
                                <div id="quantityRow" class="flex flex-row items-center">
                                    <button class="noButtonOutLine">
                                        <svg class="w-10 h-10" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                    </button>
                                    <p class="text-xl mx-2">1</p>
                                    <button class="noButtonOutLine">
                                        <svg class="w-10 h-10" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                    </button>
                                </div>
                                <p>$60.99</p>
                                <button class="flex flex-row">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                                    <p>ADD</p>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
            </transition>
        </script>

        <!-- SCRIPT -->
        <script src="https://unpkg.com/vue"></script>
        <script src="./Scripts/index.js"></script>
        <script src="./Scripts/headerDropper.js"></script>
        <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
        <!-- #endregion -->

        <!-- MAP -->
        <script>
            mapboxgl.accessToken = 'pk.eyJ1IjoibHVjaWVuOTUwIiwiYSI6ImNrOHgycmcyeDBnM2wzZnJ6bzA3MmtlMncifQ.mPnllbNBrYFb5m3I0ZTxrw';

            // INIT MAPS
            const centerMap = [-75.755958, 45.298498];
            const styleAPI = 'https://api.maptiler.com/maps/ef1ce2ec-4124-4755-a912-bb054ccf9aa5/style.json?key=b57rLPWWHae8xOlg0T3k'
            var mapLong = new mapboxgl.Map({
                center: centerMap,
                zoom: 10.26,
                container: 'map',
                pitch: 40,
                style: 'mapbox://styles/lucien950/ckfswphxu0shh19mniawlznx1'
            });
            var mapContact = new mapboxgl.Map({
                center: centerMap,
                zoom: 9.5,
                container: 'mapContact',
                pitch: 30,
                style: styleAPI
            })

            // NAVIGATION CONTROL
            var navConLong = new mapboxgl.NavigationControl({
                showCompass: true,
                visualizePitch: true,
                showZoom: false
            });
            mapLong.addControl(navConLong, 'top-left');

            var navConContact = new mapboxgl.NavigationControl({
                showCompass: true,
                visualizePitch: true,
                showZoom: false
            });
            mapContact.addControl(navConContact, 'top-left');

            // MARKERS
            // FEATURE CONSTRUCTOR
            function feature(coordinates, name) {
                this.type = "Feature";
                this.geometry = {
                    "type": "Point",
                    "coordinates": coordinates
                }
                this.properties = {
                    "name": name
                }
            }
            var pizzaLocations = {
                "type": "FeatureCollection",
                "features": [
                    new feature([-75.785370, 45.342420], "BASELINE"),
                    new feature([-75.677374, 45.233987], "MANOTICK"),
                    new feature([-75.690520, 45.428400], "DALHOUSIE"),
                    new feature([-75.724335, 45.284478], "Woodroffe"),
                    new feature([-75.671738, 45.383831], "BANK"),
                    new feature([-75.733498, 45.377510 ], "MERIVALE"),
                    new feature([-75.781950 , 45.350650], "BAXTER"),
                    new feature([-75.690070, 45.391320], "SENECA"),
                    new feature([-75.6863, 45.28309 ], "GLOUSTER"),
                    new feature([-75.61752 , 45.38954], "ST.LAURENT"),
                    new feature([-75.63015, 45.44579], ""),
                    new feature([-75.72652, 45.33788], "WOODFIELD"),
                    new feature([-75.88945, 45.29864], "KANATA"),
                    new feature([-75.82948, 45.20071], "RICHMOND"),
                    new feature([-75.91737, 45.2558], "STITTSVILLE"),
                    new feature([-75.60941, 45.14447], "OSGOOD"),
                    new feature([-75.51245, 45.45245], "INNES"),
                    new feature([-75.49853, 45.47743], "TOMKINS"),
                ]
            };
            pizzaLocations.features.forEach((store, i) => {
                store.properties.id = i;
            });
            

            pizzaLocations.features.forEach((marker)=>{
                var el = document.createElement('div');
                el.className = 'marker';
                el.style.backgroundImage = 'url(./images/logo.png)';
                el.style.backgroundSize = 'cover';

                el.style.width = '35px';
                el.style.height = '35px';
                new mapboxgl.Marker(el)
                    .setLngLat(marker.geometry.coordinates)
                    .addTo(mapLong);
            });
            pizzaLocations.features.forEach((marker)=>{
                var el = document.createElement('div');
                el.className = 'marker';
                el.style.backgroundImage = 'url(./images/logo.png)';
                el.style.backgroundSize = 'cover';
                el.style.width = '35px';
                el.style.height = '35px';
                new mapboxgl.Marker(el)
                    .setLngLat(marker.geometry.coordinates)
                    .addTo(mapContact);
            })
        </script>
    </body>
</html>